/*! angular-thickm 11-08-2014 */
!function(){"use strict";angular.module("thickm",[]),angular.module("thickm.resource",["thickm"]),angular.module("thickm.resource").provider("resourceFactory",function(){function a(a){return a.success=function(b){return a.then(function(a){b(a)}),a},a.error=function(b){return a.then(null,function(a){b(a)}),a},a}var b=this;this.setBaseUrl=function(a){this.baseUrl=a},this.$get=function(c,d){function e(e){function f(){}return f.prototype.instance=function(){return"instance"},f.prototype._primaryField="id",f.getClassName=function(){return this.className},f.static=function(){return"static"},f.validate=function(){return!0},f.build=function(a){if(!this.validate(a))throw new Error("invalid item "+JSON.stringify(a));return new this(a)},f.transformCollectionResponse=function(a){var b=this;return a.data.map(function(a){return b.build(a)})},f.transformItemResponse=function(a){return this.build(a.data)},f.query=function(){var d=this,f=c.get(b.baseUrl+e).then(function(a){return d.transformCollectionResponse(a)});return a(f)},f.get=function(d){var f=this,g=c.get(b.baseUrl+e+"/"+d).then(function(a){return f.transformItemResponse(a)});return a(g)},f.prototype.isNew=function(){return!(this._primaryField in this&&angular.isDefined(this[this._primaryField]))},f.prototype.update=function(a){angular.extend(this,a)},f.prototype.save=function(){var d,f=this;return d=this.isNew()?c.post(b.baseUrl+e):c.put(b.baseUrl+e+"/"+this[this._primaryField]),d.then(function(a){f.update(a.data)}),a(d)},f.prototype.delete=function(){if(this.isNew()){var f=d.defer();return f.resolve({}),a(f.promise)}return c.delete(b.baseUrl+e+"/"+this[this._primaryField])},f}return e.baseUrl=b.baseUrl,e.extend=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a},e.resourceInit=function(a,b){var c=e(b);e.extend(a,c),angular.extend(a,c)},e.itemFactory=function(a){function b(a){angular.extend(this,a)}console.warn("itemFactory is deprecated, use resourceInit.");var c=e(a);return b.prototype=new c,angular.extend(b,c),b.transformCollectionResponse=function(a,b){return b.data.map(function(b){return a.build(b)})},b},e}})}(window,document);